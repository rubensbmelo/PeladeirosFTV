<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-G98PRRLH9V"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-G98PRRLH9V');
    </script>

    <link rel="shortcut icon" href="Peladeiros.jpeg" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">

    <title>Peladeiros de Futev√¥lei</title>
</head>

<body>
    <header>
        <nav>
            <ul class="menu-nav">
                <li><a href="quem-somos.html">Quem somos</a></li>
                <li><a href="atletas.html">Atletas</a></li>
                <li><a href="jogos.html">Placares</a></li>
                <li><a href="ranking.html">Ranking</a></li>
                <li><a href="local.html">Local</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <img src="./img/peladeiros.png" alt="Logo Peladeiros" class="logo-flutuante">

        <h1 class="titulo-principal">Peladeiros de Futev√¥lei</h1>
        <p class="intro">Acompanhe nosso elenco, localiza√ß√£o das peladas e o ranking atualizado.</p>

        <section id="resultados">
            <div style="display: flex; justify-content: space-between; align-items: baseline; flex-wrap: wrap;">
                <h2>√öltimos Placares</h2>
                <a href="jogos.html" style="color: #ffca28; text-decoration: none; font-weight: 700; font-size: 13px; text-transform: uppercase;">
                    Ver todos os jogos ‚Üí
                </a>
            </div>
            <p id="data-atualizacao" style="font-size: 12px; color: #666; margin-bottom: 15px; font-weight: 700;"></p>
            
            <div id="lista-destaque-jogos" style="display: grid; gap: 8px;">
                </div>
        </section>

        <section id="atletas" style="margin-top: 40px;">
            <div style="display: flex; justify-content: space-between; align-items: baseline; flex-wrap: wrap;">
                <h2>Nossos Atletas</h2>
                <a href="atletas.html" style="color: #ffca28; text-decoration: none; font-weight: 700; font-size: 13px; text-transform: uppercase;">
                    Ver elenco ‚Üí
                </a>
            </div>
            <p style="margin-top: 10px;">Conhe√ßa os craques que fazem parte da nossa pelada semanal.</p>
        </section>

        <section id="ranking" style="margin-top: 40px;">
            <div style="display: flex; justify-content: space-between; align-items: baseline; flex-wrap: wrap;">
                <h2>G4 - Ranking Geral</h2>
                <a href="ranking.html" style="color: #ffca28; text-decoration: none; font-weight: 700; font-size: 13px; text-transform: uppercase;">
                    Ranking Completo ‚Üí
                </a>
            </div>
            <p> Os quatro melhores atletas (acumulado Jan/Fev).</p>

            <div style="text-align: center;">
                <table class="tabela-ranking" style="margin-top: 20px;">
                    <thead>
                        <tr>
                            <th>Pos</th>
                            <th style="text-align: left; padding-left: 20px;">Atleta</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-home-ranking">
                        </tbody>
                </table>
            </div>
        </section>

        <section id="local" style="border-top: 1px solid #eee; padding-top: 40px; margin-top: 40px;">
            <h2>Local da Pelada</h2>
            <div style="text-align: center;">
                <p>Arena Futshow - Jaboat√£o dos Guararapes</p>
                <p style="font-size: 14px; color: #666; margin-bottom: 20px;">Todos os domingos, a partir das 06:00h.</p>
                <a href="local.html" class="btn-local">Como Chegar / Mapa</a>
            </div>
        </section>
    </main>

    <h2 class="titulo-central">Nossas Redes Sociais</h2>

    <footer class="rodape-preto">
        <div class="social-links">
            <a href="https://www.instagram.com/peladeirosdefutevolei?igsh=N2s2bDQ1czE1b2xo" target="_blank">
                <img src="./img/instagram.jpeg" alt="Instagram" class="icon">
            </a>
            <a href="https://www.youtube.com/@peladeirosdefutevolei" target="_blank">
                <img src="./img/youtube.png" alt="YouTube" class="icon">
            </a>
        </div>
        <p>&copy; 2026 Peladeiros de Futev√¥lei</p>
    </footer>

    <script src="dados_jogos.js"></script>
    <script src="dados_ranking.js"></script>

    <script>
        // --- L√ìGICA DE PLACARES ---
        const rodadaAtual = bancoDeDadosJogos[0]; 
        if(rodadaAtual) {
            document.getElementById('data-atualizacao').innerText = `√öltima atualiza√ß√£o: ${rodadaAtual.data}`;
            const tresPrimeiros = rodadaAtual.jogos.slice(0, 3);
            const containerJogos = document.getElementById('lista-destaque-jogos');
            containerJogos.innerHTML = tresPrimeiros.map(jogo => `
                <div class="card-jogo">
                    <div class="time time-dir">${jogo.t1}</div>
                    <div class="placar-box">${jogo.p}</div>
                    <div class="time time-esq">${jogo.t2}</div>
                </div>
            `).join('');
        }

        // --- L√ìGICA DE RANKING (G4 GERAL) ---
        function carregarRankingHome() {
            const corpoTabela = document.getElementById('tabela-home-ranking');
            if(!corpoTabela) return;
            
            // 1. Ordena por pontos TOTAIS e desempata por nome (A-Z)
            const listaOrdenada = [...bancoDeDadosRanking].sort((a, b) => {
                if (b.total !== a.total) {
                    return b.total - a.total;
                }
                return a.nome.localeCompare(b.nome);
            });

            // 2. Pega apenas os 4 primeiros da lista ordenada
            const g4 = listaOrdenada.slice(0, 4);
            const maiorPontuacao = g4[0].total;

            let posicaoExibida = 1;

            corpoTabela.innerHTML = g4.map((atleta, index) => {
                // L√≥gica de empate na posi√ß√£o (ex: 1¬∫, 1¬∫, 1¬∫, 4¬∫)
                if (index > 0 && atleta.total < g4[index - 1].total) {
                    posicaoExibida = index + 1;
                }

                const eLider = atleta.total === maiorPontuacao;

                return `
                    <tr class="${eLider ? 'primeiro-lugar' : ''}">
                        <td>${posicaoExibida}¬∫</td>
                        <td style="text-align: left; padding-left: 20px;">
                            ${atleta.nome} ${eLider ? 'üèÜ' : ''}
                        </td>
                        <td><strong>${atleta.total}</strong></td>
                    </tr>
                `;
            }).join('');
        }

        window.onload = () => {
            carregarRankingHome();
        };
    </script>
</body>
</html>